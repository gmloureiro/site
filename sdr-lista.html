<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>SDR Partners ‚Äì INBOTIX</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Lista de SDRs parceiros da INBOTIX para prospec√ß√£o por performance.">
  <link rel="icon" type="image/png" href="icon-inbotix.png" />

  <style>
    :root {
      --primary: #0f6fff;
      --primary-dark: #0050c8;
      --accent: #22c55e;
      --bg: #f5f7fb;
      --dark: #0b1220;
      --text: #111827;
      --muted: #6b7280;
      --border: #e5e7eb;
    }

    * { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: radial-gradient(circle at top left, #e0ecff 0, #f5f7fb 40%, #ffffff 100%);
      color: var(--text);
      min-height: 100vh;
    }

    header {
      padding: 14px 18px;
      border-bottom: 1px solid #e5e7eb;
      background: #ffffffaa;
      backdrop-filter: blur(10px);
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .logo-block {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .logo-block img {
      height: 30px;
      width: auto;
    }

    .logo-text {
      font-size: 12px;
      color: var(--muted);
    }

    .badge {
      font-size: 11px;
      padding: 4px 10px;
      border-radius: 999px;
      background: rgba(34, 197, 94, 0.08);
      color: #166534;
      border: 1px solid rgba(34, 197, 94, 0.25);
    }

    main {
      max-width: 1120px;
      margin: 24px auto 32px;
      padding: 0 16px 32px;
    }

    h1 {
      font-size: 24px;
      color: var(--dark);
      margin-bottom: 4px;
    }

    .subtitle {
      font-size: 13px;
      color: var(--muted);
      margin-bottom: 18px;
    }

    /* TOOLBAR / FILTROS */
    .toolbar {
      display: flex;
      flex-direction: column;
      gap: 10px;
      margin-bottom: 16px;
    }

    .toolbar-row {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      align-items: center;
      justify-content: space-between;
    }

    .toolbar-info {
      font-size: 12px;
      color: var(--muted);
    }

    .btn-outline {
      border-radius: 999px;
      border: 1px solid var(--border);
      padding: 7px 14px;
      background: #ffffff;
      font-size: 12px;
      cursor: pointer;
      color: var(--text);
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }

    .filters {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }

    .filter-group {
      display: flex;
      flex-direction: column;
      gap: 3px;
      min-width: 150px;
      flex: 1;
    }

    .filter-label {
      font-size: 11px;
      color: var(--muted);
    }

    .filter-input,
    .filter-select {
      border-radius: 999px;
      border: 1px solid var(--border);
      padding: 7px 12px;
      font-size: 12px;
      font-family: inherit;
      background: #ffffff;
      width: 100%;
    }

    .counter {
      font-size: 12px;
      color: var(--muted);
    }

    /* CARDS */
    .grid {
      display: flex;
      flex-direction: column;
      gap: 14px;
      margin-top: 6px;
    }

    .card-sdr {
      background: #ffffff;
      border-radius: 18px;
      border: 1px solid var(--border);
      box-shadow: 0 14px 38px rgba(15, 23, 42, 0.09);
      padding: 16px 16px 14px;
      display: grid;
      grid-template-columns: auto minmax(0, 1fr) auto;
      gap: 14px;
      align-items: center;
    }

    @media (max-width: 780px) {
      .card-sdr {
        grid-template-columns: auto minmax(0, 1fr);
        grid-template-rows: auto auto;
      }
    }

    @media (max-width: 580px) {
      .card-sdr {
        grid-template-columns: minmax(0, 1fr);
      }
    }

    .card-left {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 6px;
    }

    .avatar {
      width: 70px;
      height: 70px;
      border-radius: 999px;
      background: linear-gradient(135deg, #e5e7eb, #cbd5f5);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
      font-weight: 700;
      color: #4b5563;
      overflow: hidden;
      flex-shrink: 0;
    }

    .avatar img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .cidade-pill {
      font-size: 11px;
      padding: 2px 8px;
      border-radius: 999px;
      background: #f3f4f6;
      border: 1px solid #e5e7eb;
      color: var(--muted);
      text-align: center;
      max-width: 140px;
    }

    .card-middle {
      display: flex;
      flex-direction: column;
      gap: 3px;
    }

    .nome {
      font-size: 17px;
      font-weight: 600;
      color: var(--dark);
      margin-bottom: 2px;
    }

    .meta-line {
      font-size: 12px;
      color: var(--muted);
    }

    .exp {
      font-size: 12px;
      color: var(--text);
      margin-top: 3px;
    }

    .tags {
      display: flex;
      flex-wrap: wrap;
      gap: 4px;
      margin-top: 6px;
    }

    .tag {
      font-size: 11px;
      padding: 2px 7px;
      border-radius: 999px;
      background: #eff6ff;
      border: 1px solid #dbeafe;
      color: #1d4ed8;
    }

    .tag-secondary {
      background: #f3f4f6;
      border-color: #e5e7eb;
      color: var(--muted);
    }

    .card-right {
      display: flex;
      flex-direction: column;
      gap: 6px;
      align-items: flex-end;
      justify-content: center;
    }

    @media (max-width: 580px) {
      .card-right {
        align-items: stretch;
      }
    }

    .btn-contact {
      border-radius: 999px;
      border: none;
      padding: 7px 12px;
      font-size: 12px;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 5px;
      text-decoration: none;
      min-width: 150px;
    }

    .btn-contact.tel {
      background: #ffffff;
      color: var(--primary-dark);
      border: 1px solid rgba(15, 111, 255, 0.35);
    }

    .btn-contact.whats {
      background: #22c55e;
      color: #ffffff;
      box-shadow: 0 10px 22px rgba(34, 197, 94, 0.45);
    }

    .btn-contact small {
      font-size: 11px;
      opacity: 0.8;
    }

    .empty {
      font-size: 13px;
      color: var(--muted);
      margin-top: 14px;
    }
  </style>
</head>
<body>
  <header>
    <div class="logo-block">
      <a href="https://inbotix.com.br">
        <img src="logo-inbotix.png" alt="INBOTIX" />
      </a>
      <div class="logo-text">
        <strong>Marketplace de SDR</strong><br>
        Escolha um SDR para gerar leads para voc√™.
      </div>
    </div>
    <span class="badge">Prospec√ß√£o por performance</span>
  </header>

  <main>
    <h1>SDRs parceiros da INBOTIX</h1>
    <p class="subtitle">
      Esses SDRs trabalham seguindo a metodologia INBOTIX: eles fazem a prospec√ß√£o
      e voc√™ s√≥ paga pelos leads gerados, conforme o card√°pio de leads.
    </p>

    <!-- TOOLBAR + FILTROS -->
    <section class="toolbar">
      <div class="toolbar-row">
        <div class="toolbar-info">
          Filtre por nome, nicho, tipo de empresa, regi√£o, canal ou idioma para encontrar o SDR ideal.
        </div>
        <a href="sdr-cadastro.html" class="btn-outline">
          Sou SDR e quero me cadastrar
        </a>
      </div>

      <div class="toolbar-row">
        <div class="filters">
          <div class="filter-group" style="min-width:220px;">
            <span class="filter-label">Buscar por nome, nicho, tipo de empresa ou palavra-chave</span>
            <input id="filtro-texto" class="filter-input" type="text" placeholder="Ex: tecnologia, SaaS, log√≠stica, Maria...">
          </div>
          <div class="filter-group">
            <span class="filter-label">Regi√£o de atua√ß√£o</span>
            <select id="filtro-regiao" class="filter-select">
              <option value="">Todas as regi√µes</option>
            </select>
          </div>
          <div class="filter-group">
            <span class="filter-label">Canal de prospec√ß√£o</span>
            <select id="filtro-canal" class="filter-select">
              <option value="">Todos os canais</option>
            </select>
          </div>
          <div class="filter-group">
            <span class="filter-label">Idioma de atendimento</span>
            <select id="filtro-idioma" class="filter-select">
              <option value="">Todos os idiomas</option>
            </select>
          </div>
        </div>

        <div class="counter" id="contador-sdrs">
          <!-- preenchido via JS -->
        </div>
      </div>
    </section>

    <!-- LISTA DE SDRS -->
    <section id="lista-sdrs" class="grid">
      <!-- Cards gerados via JS -->
    </section>

    <p id="empty-message" class="empty" style="display:none;">
      Nenhum SDR encontrado com os filtros atuais. Tente limpar os filtros ou ampliar sua busca.
    </p>
  </main>

  <script>
    let sdrs = [];
    const listaContainer = document.getElementById('lista-sdrs');
    const emptyMessage = document.getElementById('empty-message');
    const filtroTexto = document.getElementById('filtro-texto');
    const filtroRegiao = document.getElementById('filtro-regiao');
    const filtroCanal = document.getElementById('filtro-canal');
    const filtroIdioma = document.getElementById('filtro-idioma');
    const contadorSdrs = document.getElementById('contador-sdrs');

    function criarCardSdr(sdr) {
      const card = document.createElement('article');
      card.className = 'card-sdr';

      // LEFT
      const left = document.createElement('div');
      left.className = 'card-left';

      const avatar = document.createElement('div');
      avatar.className = 'avatar';
      if (sdr.fotoBase64) {
        const img = document.createElement('img');
        img.src = sdr.fotoBase64;
        img.alt = sdr.nome;
        avatar.appendChild(img);
      } else {
        const iniciais = (sdr.nome || '').trim().split(" ").map(p => p[0]).join("").slice(0, 2).toUpperCase();
        avatar.textContent = iniciais || 'SDR';
      }

      const cidadePill = document.createElement('div');
      cidadePill.className = 'cidade-pill';
      cidadePill.textContent = sdr.cidade || 'Cidade / Estado';

      left.appendChild(avatar);
      left.appendChild(cidadePill);

      // MIDDLE
      const middle = document.createElement('div');
      middle.className = 'card-middle';

      const nomeEl = document.createElement('div');
      nomeEl.className = 'nome';
      nomeEl.textContent = sdr.nome;

      const nichosEl = document.createElement('div');
      nichosEl.className = 'meta-line';
      nichosEl.textContent = "Nichos: " + (sdr.nicho || "-");

      const tiposEl = document.createElement('div');
      tiposEl.className = 'meta-line';
      tiposEl.textContent = "Tipos de empresa: " + (sdr.tiposEmpresa || "-");

      const regioesEl = document.createElement('div');
      regioesEl.className = 'meta-line';
      regioesEl.textContent = "Regi√µes: " + (sdr.regioes || "-");

      const idiomasEl = document.createElement('div');
      idiomasEl.className = 'meta-line';
      idiomasEl.textContent = "Idiomas: " + (sdr.idiomas || "-");

      const expEl = document.createElement('div');
      expEl.className = 'exp';
      expEl.textContent = sdr.experiencia || "";

      const tagsEl = document.createElement('div');
      tagsEl.className = 'tags';
      (sdr.canais || '').split(',')
        .map(t => t.trim())
        .filter(Boolean)
        .forEach(c => {
          const tag = document.createElement('span');
          tag.className = 'tag';
          tag.textContent = c;
          tagsEl.appendChild(tag);
        });

      middle.appendChild(nomeEl);
      middle.appendChild(nichosEl);
      middle.appendChild(tiposEl);
      middle.appendChild(regioesEl);
      middle.appendChild(idiomasEl);
      if (sdr.experiencia) middle.appendChild(expEl);
      middle.appendChild(tagsEl);

      // RIGHT
      const right = document.createElement('div');
      right.className = 'card-right';

      const btnTel = document.createElement('a');
      btnTel.className = 'btn-contact tel';
      if (sdr.telefone) {
        btnTel.href = 'tel:' + (sdr.telefone || '').replace(/\D/g, '');
      } else {
        btnTel.href = 'javascript:void(0)';
      }
      btnTel.innerHTML = '<span>üìû Ligar</span><small>' + (sdr.telefone || 'Sem telefone') + '</small>';

      const btnWhats = document.createElement('a');
      btnWhats.className = 'btn-contact whats';
      if (sdr.whats) {
        btnWhats.href = 'https://wa.me/' + (sdr.whats || '').replace(/\D/g, '');
        btnWhats.target = '_blank';
        btnWhats.rel = 'noopener noreferrer';
      } else {
        btnWhats.href = 'javascript:void(0)';
      }
      btnWhats.innerHTML = '<span>üí¨ WhatsApp</span><small>Chamar agora</small>';

      right.appendChild(btnTel);
      right.appendChild(btnWhats);

      card.appendChild(left);
      card.appendChild(middle);
      card.appendChild(right);

      return card;
    }

    function popularFiltros() {
      const regioesSet = new Set();
      const canaisSet = new Set();
      const idiomasSet = new Set();

      sdrs.forEach(sdr => {
        // regi√µes: quebrar campo regioes por v√≠rgula
        (sdr.regioes || '').split(',')
          .map(r => r.trim())
          .filter(Boolean)
          .forEach(r => regioesSet.add(r));

        // canais
        (sdr.canais || '').split(',')
          .map(c => c.trim())
          .filter(Boolean)
          .forEach(c => canaisSet.add(c));

        // idiomas
        (sdr.idiomas || '').split(',')
          .map(i => i.trim())
          .filter(Boolean)
          .forEach(i => idiomasSet.add(i));
      });

      // limpa selects
      filtroRegiao.innerHTML = '<option value="">Todas as regi√µes</option>';
      filtroCanal.innerHTML = '<option value="">Todos os canais</option>';
      filtroIdioma.innerHTML = '<option value="">Todos os idiomas</option>';

      Array.from(regioesSet).sort().forEach(r => {
        const opt = document.createElement('option');
        opt.value = r;
        opt.textContent = r;
        filtroRegiao.appendChild(opt);
      });

      Array.from(canaisSet).sort().forEach(c => {
        const opt = document.createElement('option');
        opt.value = c;
        opt.textContent = c;
        filtroCanal.appendChild(opt);
      });

      Array.from(idiomasSet).sort().forEach(i => {
        const opt = document.createElement('option');
        opt.value = i;
        opt.textContent = i;
        filtroIdioma.appendChild(opt);
      });
    }

    function aplicarFiltros() {
      const texto = (filtroTexto.value || '').toLowerCase();
      const regiao = filtroRegiao.value;
      const canal = filtroCanal.value;
      const idioma = filtroIdioma.value;

      listaContainer.innerHTML = '';

      let filtrados = sdrs;

      // filtro texto: nome + nicho + tiposEmpresa + experiencia
      if (texto) {
        filtrados = filtrados.filter(sdr => {
          const blob = (
            (sdr.nome || '') + ' ' +
            (sdr.nicho || '') + ' ' +
            (sdr.tiposEmpresa || '') + ' ' +
            (sdr.experiencia || '')
          ).toLowerCase();
          return blob.includes(texto);
        });
      }

      // filtro regi√£o
      if (regiao) {
        filtrados = filtrados.filter(sdr =>
          (sdr.regioes || '').toLowerCase().split(',')
            .map(r => r.trim())
            .filter(Boolean)
            .includes(regiao.toLowerCase())
        );
      }

      // filtro canal
      if (canal) {
        filtrados = filtrados.filter(sdr =>
          (sdr.canais || '').toLowerCase().split(',')
            .map(c => c.trim())
            .filter(Boolean)
            .includes(canal.toLowerCase())
        );
      }

      // filtro idioma
      if (idioma) {
        filtrados = filtrados.filter(sdr =>
          (sdr.idiomas || '').toLowerCase().split(',')
            .map(i => i.trim())
            .filter(Boolean)
            .includes(idioma.toLowerCase())
        );
      }

      if (!filtrados.length) {
        emptyMessage.style.display = 'block';
        contadorSdrs.textContent = '0 SDR encontrado';
        return;
      }

      emptyMessage.style.display = 'none';

      filtrados.forEach(sdr => {
        const card = criarCardSdr(sdr);
        listaContainer.appendChild(card);
      });

      contadorSdrs.textContent =
        filtrados.length + (filtrados.length === 1 ? ' SDR encontrado' : ' SDRs encontrados');
    }

    function carregarSdrs() {
      sdrs = JSON.parse(localStorage.getItem('inbotix_sdrs') || '[]');

      // garantir campos novos para cadastros antigos
      sdrs = sdrs.map(s => ({
        tiposEmpresa: '',
        regioes: '',
        idiomas: '',
        ...s
      }));

      sdrs.sort((a, b) => b.id - a.id); // mais recentes primeiro

      if (!sdrs.length) {
        emptyMessage.style.display = 'block';
        contadorSdrs.textContent = '0 SDR cadastrado neste navegador';
        return;
      }

      popularFiltros();
      aplicarFiltros();
    }

    // Eventos dos filtros
    filtroTexto.addEventListener('input', aplicarFiltros);
    filtroRegiao.addEventListener('change', aplicarFiltros);
    filtroCanal.addEventListener('change', aplicarFiltros);
    filtroIdioma.addEventListener('change', aplicarFiltros);

    // Inicializa
    carregarSdrs();
  </script>
</body>
</html>

