<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Ranking de SDRs ‚Äì INBOTIX</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Ranking de SDRs que usam stack INBOTIX, ordenados por avalia√ß√µes e performance." />
  <link rel="canonical" href="https://inbotix.com.br/sdr-ranking.html" />
  <link rel="icon" type="image/x-icon" href="logo-inbotix.ico" />

  <!-- üî∂ TAG PH3A / DATAUNION -->
  <script async type="text/javascript" src="https://www.dataunion.com.br/bcf4a443-2a61-43a0-a3b7-b8ed1384c1a2"></script>

  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=AW-17728268035"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'AW-17728268035');
  </script>

  <style>
    :root {
      --bg: #f3f4f6;
      --white: #ffffff;
      --text: #0f172a;
      --muted: #6b7280;
      --primary: #07197e;
      --border: #e5e7eb;
      --star-on: #fbbf24;
      --star-off: #e5e7eb;
    }
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: var(--bg);
      color: var(--text);
      -webkit-font-smoothing: antialiased;
    }
    a { color: inherit; text-decoration: none; }

    header {
      background: var(--white);
      border-bottom: 1px solid var(--border);
      box-shadow: 0 4px 14px rgba(15,23,42,0.06);
      position: sticky;
      top: 0;
      z-index: 20;
    }
    .container {
      max-width: 1120px;
      margin: 0 auto;
      padding: 16px;
    }
    .header-inner {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 12px;
    }
    .header-left {
      display: flex;
      align-items: center;
      gap: 10px;
    }
    .header-left img {
      height: 32px;
    }
    .header-title {
      font-size: 13px;
      color: var(--muted);
    }
    .header-title strong {
      display: block;
      font-size: 15px;
      color: var(--text);
    }
    .header-right {
      font-size: 11px;
      color: var(--muted);
      text-align: right;
    }
    .header-right a {
      text-decoration: underline;
      text-underline-offset: 2px;
    }

    main {
      max-width: 1120px;
      margin: 20px auto 32px;
      padding: 0 16px;
    }
    .page-title {
      font-size: 22px;
      font-weight: 700;
      margin-bottom: 4px;
    }
    .page-sub {
      font-size: 13px;
      color: var(--muted);
      max-width: 640px;
      margin-bottom: 16px;
    }
    .note {
      font-size: 12px;
      color: var(--muted);
      margin-bottom: 12px;
    }
    .table-wrapper {
      background: var(--white);
      border-radius: 12px;
      border: 1px solid var(--border);
      overflow: auto;
      box-shadow: 0 12px 30px rgba(15,23,42,0.06);
    }
    table {
      width: 100%;
      border-collapse: collapse;
      font-size: 13px;
    }
    thead {
      background: #f9fafb;
    }
    th, td {
      padding: 10px 12px;
      text-align: left;
      border-bottom: 1px solid var(--border);
      white-space: nowrap;
    }
    th {
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: .06em;
      color: var(--muted);
    }
    tr:nth-child(even) td {
      background: #f9fafb;
    }
    .pos {
      font-weight: 700;
    }
    .stars {
      display: inline-flex;
      gap: 1px;
      font-size: 13px;
    }
    .star {
      color: var(--star-off);
    }
    .star.filled {
      color: var(--star-on);
    }
    .badge {
      display: inline-flex;
      align-items: center;
      padding: 3px 8px;
      border-radius: 999px;
      border: 1px solid #dbeafe;
      background: #eff6ff;
      font-size: 10px;
      text-transform: uppercase;
      letter-spacing: .06em;
      color: #1d4ed8;
      font-weight: 600;
    }
    .badge.gold {
      background: #fef3c7;
      border-color: #fde68a;
      color: #92400e;
    }
    .badge.green {
      background: #ecfdf3;
      border-color: #bbf7d0;
      color: #15803d;
    }
    .empty {
      font-size: 13px;
      color: var(--muted);
      margin-top: 12px;
    }
    @media (max-width: 720px) {
      .header-inner {
        flex-direction: column;
        align-items: flex-start;
      }
      .header-right {
        text-align: left;
      }
    }
  </style>
</head>
<body>
<header>
  <div class="container">
    <div class="header-inner">
      <div class="header-left">
        <a href="index.html">
          <img src="logo-inbotix.png" alt="INBOTIX" />
        </a>
        <div class="header-title">
          <strong>Ranking de SDRs ‚Äì INBOTIX</strong>
          Ordenado por nota m√©dia e n√∫mero de avalia√ß√µes.
        </div>
      </div>
      <div class="header-right">
        <div>S√≥ entram SDRs com stack INBOTIX e m√≠nimo de 3 avalia√ß√µes.</div>
        <div>
          <a href="sdr-lista.html">Voltar para a vitrine</a>
        </div>
      </div>
    </div>
  </div>
</header>

<main>
  <h1 class="page-title">Ranking de SDRs</h1>
  <p class="page-sub">
    Este ranking considera apenas SDRs que utilizam stack INBOTIX e possuem pelo menos 3 avalia√ß√µes registradas.
    A ordena√ß√£o √© feita por nota m√©dia (maior para menor) e, em caso de empate, pelo n√∫mero de avalia√ß√µes.
  </p>
  <div class="note" id="info">Carregando ranking...</div>

  <div class="table-wrapper">
    <table>
      <thead>
        <tr>
          <th>Posi√ß√£o</th>
          <th>SDR</th>
          <th>Cidade</th>
          <th>Nichos & Tipos</th>
          <th>Idiomas & Canais</th>
          <th>M√©dia</th>
          <th>Avalia√ß√µes</th>
          <th>Selos</th>
        </tr>
      </thead>
      <tbody id="tbody">
        <!-- via JS -->
      </tbody>
    </table>
  </div>
  <div id="empty" class="empty" style="display:none;">
    Ainda n√£o h√° SDRs eleg√≠veis para o ranking neste ambiente.
  </div>
</main>

<script>
  const SDR_KEY = "inbotix_sdrs";
  let sdrs = [];
  let ratingMap = new Map();

  const tbody = document.getElementById("tbody");
  const info = document.getElementById("info");
  const empty = document.getElementById("empty");

  function loadSdrs() {
    try {
      sdrs = JSON.parse(localStorage.getItem(SDR_KEY) || "[]");
    } catch(e) {
      console.warn("Erro ao carregar SDRs", e);
      sdrs = [];
    }
    sdrs = sdrs.map(s => ({
      premium: !!s.premium,
      verified: !!s.verified,
      usaInbotix: !!s.usaInbotix,
      reviews: Array.isArray(s.reviews) ? s.reviews : [],
      ...s
    }));
    recomputeRatings();
    render();
  }

  function recomputeRatings() {
    ratingMap = new Map();
    sdrs.forEach(s => {
      const reviews = Array.isArray(s.reviews) ? s.reviews : [];
      const count = reviews.length;
      const avg = count
        ? reviews.reduce((acc, r) => acc + (Number(r.stars) || 0), 0) / count
        : 0;
      ratingMap.set(s.id, { avg, count });
    });
  }

  function createStars(avg) {
    const div = document.createElement("div");
    div.className = "stars";
    for (let i = 1; i <= 5; i++) {
      const span = document.createElement("span");
      span.className = "star" + (i <= avg ? " filled" : "");
      span.textContent = "‚òÖ";
      div.appendChild(span);
    }
    return div;
  }

  function render() {
    tbody.innerHTML = "";
    const eligible = sdrs
      .filter(s => {
        const info = ratingMap.get(s.id) || { avg: 0, count: 0 };
        return s.usaInbotix && info.count >= 3;
      })
      .sort((a, b) => {
        const ra = ratingMap.get(a.id) || { avg: 0, count: 0 };
        const rb = ratingMap.get(b.id) || { avg: 0, count: 0 };
        if (rb.avg !== ra.avg) return rb.avg - ra.avg;
        return rb.count - ra.count;
      });

    if (!eligible.length) {
      info.textContent = "0 SDRs eleg√≠veis para o ranking neste ambiente.";
      empty.style.display = "block";
      return;
    }
    empty.style.display = "none";
    info.textContent = eligible.length + (eligible.length === 1 ? " SDR eleg√≠vel para o ranking." : " SDRs eleg√≠veis para o ranking.");

    eligible.forEach((sdr, idx) => {
      const r = ratingMap.get(sdr.id) || { avg: 0, count: 0 };
      const tr = document.createElement("tr");

      const tdPos = document.createElement("td");
      tdPos.className = "pos";
      tdPos.textContent = "#" + (idx + 1);
      tr.appendChild(tdPos);

      const tdName = document.createElement("td");
      tdName.textContent = sdr.nome || "SDR sem nome";
      tr.appendChild(tdName);

      const tdCidade = document.createElement("td");
      tdCidade.textContent = sdr.cidade || "-";
      tr.appendChild(tdCidade);

      const tdNichos = document.createElement("td");
      tdNichos.innerHTML =
        "<strong>Nichos:</strong> " + (sdr.nicho || "-") +
        "<br><strong>Tipos:</strong> " + (sdr.tiposEmpresa || "-");
      tr.appendChild(tdNichos);

      const tdIdiomas = document.createElement("td");
      tdIdiomas.innerHTML =
        "<strong>Idiomas:</strong> " + (sdr.idiomas || "-") +
        "<br><strong>Canais:</strong> " + (sdr.canais || "-");
      tr.appendChild(tdIdiomas);

      const tdMedia = document.createElement("td");
      const stars = createStars(r.avg);
      tdMedia.appendChild(stars);
      const span = document.createElement("span");
      span.style.marginLeft = "6px";
      span.textContent = r.avg.toFixed(1).replace(".", ",") + "‚òÖ";
      tdMedia.appendChild(span);
      tr.appendChild(tdMedia);

      const tdCount = document.createElement("td");
      tdCount.textContent = r.count + " avalia√ß√£o" + (r.count > 1 ? "es" : "");
      tr.appendChild(tdCount);

      const tdSelos = document.createElement("td");
      if (idx === 0) {
        const b = document.createElement("span");
        b.className = "badge gold";
        b.textContent = "Top 1";
        tdSelos.appendChild(b);
      }
      if (sdr.premium) {
        const b = document.createElement("span");
        b.className = "badge gold";
        b.textContent = "Premium";
        if (tdSelos.firstChild) tdSelos.appendChild(document.createTextNode(" "));
        tdSelos.appendChild(b);
      }
      if (sdr.verified) {
        const b = document.createElement("span");
        b.className = "badge green";
        b.textContent = "Verificado INBOTIX";
        if (tdSelos.firstChild) tdSelos.appendChild(document.createTextNode(" "));
        tdSelos.appendChild(b);
      }
      const bStack = document.createElement("span");
      bStack.className = "badge";
      bStack.textContent = "Stack INBOTIX";
      if (tdSelos.firstChild) tdSelos.appendChild(document.createTextNode(" "));
      tdSelos.appendChild(bStack);

      tr.appendChild(tdSelos);

      tbody.appendChild(tr);
    });
  }

  loadSdrs();
</script>

<!-- Microsoft Clarity -->
<script type="text/javascript">
  (function(c,l,a,r,i,t,y){
      c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
      t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
      y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
  })(window, document, "clarity", "script", "u833ulprni");
</script>
</body>
</html>
